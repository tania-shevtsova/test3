(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{94:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),o=a(23),c=a(11),s=a(12),l=a(14),i=a(13),p=a(15),u=a(0),h=a.n(u),m=a(92),v=(a(93),a(21)),f=a.n(v),b=a(22),d=a.n(b),g=a(6),y=a(80),S={color:"palevioletred"},k={width:"250px"},E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),p=0;p<n;p++)s[p]=arguments[p];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={movies:[],value:"",hasError:!1,error:""},a.componentDidMount=Object(o.a)(r.a.mark((function e(){var t,n,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.location,n=y.parse(t.search),o=n.query,c="https://api.themoviedb.org/3/search/movie?api_key=cf7e1750a0f8b90bb35162b1428fcf90&language=en-US&page=1&include_adult=false&query=".concat(o),e.prev=3,!o){e.next=7;break}return e.next=7,f.a.get(c).then((function(e){a.setState({movies:e.data.results})}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("Error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),a.componentDidUpdate=function(e){var t=a.props.location,n=y.parse(t.search).query,r="https://api.themoviedb.org/3/search/movie?api_key=cf7e1750a0f8b90bb35162b1428fcf90&language=en-US&page=1&include_adult=false&query=".concat(n);try{if(e.location.search!==t.search)return void f.a.get(r).then((function(e){0!==e.data.results.length?a.setState({movies:e.data.results}):(m.a.closeAll(),m.a.notice("Nothing was found \ud83e\udd37\ud83c\udffe"),a.props.history.replace("/movies"))}))}catch(o){console.log("Error",o)}},a.handleChange=function(e){m.a.closeAll(),a.setState({value:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),""===a.state.value&&a.props.history.push("/"),a.setState({value:""}),a.props.history.push({pathname:a.props.location.pathname,search:"query=".concat(a.state.value)})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.movies;return h.a.createElement(h.a.Fragment,null,h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement("input",{style:k,onChange:this.handleChange,value:a}),h.a.createElement("button",{type:"submit"},"Search")),h.a.createElement("ul",null,n.map((function(t){return h.a.createElement("li",{key:d()()},h.a.createElement(g.c,{to:{pathname:"/movies/".concat(t.id),state:{from:e.props.location,locationLink:e.props.location.pathname+e.props.location.search}},activeStyle:S},t.original_title))}))))}}]),t}(u.Component);t.default=E}}]);
//# sourceMappingURL=5.74fe711f.chunk.js.map